<template name="images">
  {{> sidebar}}

    <div id="page-wrapper">
      <div class="row">
          <div class="col-lg-12">
            <ol class="breadcrumb">
              <li class="active"><i class="icon-images"></i> {{i18n "sidebar.images"}}</li>
            </ol>
          </div>
        </div><!-- /.row -->
      <div class="container"><button class="md-trigger btn btn-primary" data-modal="newImageModal"><i class="icon-plus"></i> {{i18n "images.ajout"}}</button></div>
      <div class="container">
        {{#if cfsIsUploading}}
          {{cfsUploadProgressBar}} {{i18n "images.uploading"}}
        {{/if}}
      </div>
      <br />
      <div class="container">
        <ul id="imagesList"> 
          {{#each images}}
            {{> displayImage}}
          {{/each}}
        </ul>
      </div>    
      <div class="md-modal md-effect-12" id="newImageModal">
  			 <div class="md-content">
  			   <button type="button" class="close md-close"aria-hidden="true">&times;</button>
  			   <h3>{{i18n "images.new"}}</h3>
  			   <div>
  					 {{> uploadImage}}
  				</div>
  			</div>
  		</div>
  		<div class="md-overlay"></div>
    </div><!-- /#page-wrapper -->
</template>

<template name="uploadImage">
  <form id="new-image-form" class="form">
    <div class="form-group">
      <label class="sr-only" for="new-image-title">{{i18n "images.title"}}</label>
      <input type="text" class="form-control" id="new-image-title" placeholder="{{i18n "images.title"}}" required/>
    </div>
    <div class="form-group">
      <label for="new-image-image">{{i18n "images.imageupload"}}</label>
      <input id="new-image-image" type="file" class="fileUploader">
    </div>
    <div class="form-group">
        <button type="submit" id="new-image-submit" class="btn btn-default" >{{i18n "images.upload"}}</button>
    </div>
  </form>
</template>

<template name="displayImage">
    <li>
      <button type="button" class="close removeImage" aria-hidden="true" idImage="{{_id}}">x</button>
      <img src="{{cfsFileUrl}}" alt="{{metadata.title}}" />
    </li>
</template>